<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title color="primary">
      Segment
    </ion-title>
  </ion-toolbar>

    <ion-segment value="todos" (ionChange)="segmentChanged($event)">

      <ion-segment-button value="todos">
        <ion-label>Todos</ion-label>
      </ion-segment-button>
    
      <ion-segment-button value="dc">
        <ion-label>DC</ion-label>
      </ion-segment-button>
    
      <ion-segment-button value="marvel">
        <ion-label>Marvel</ion-label>
      </ion-segment-button>
    
    </ion-segment>
</ion-header>


<ion-content>


<ion-list>
  <!-- Le pido que haga un for de los heroes, luego que use el pipe filtro
  le pido que filtre por el valor espeficico que recibo en la funcion segmentChanged, y luego
  en el objeto que busque el valor de la propiedad publisher -->
  <ion-item *ngFor="let heroe of (superHeroes | async) | filtro:publisherType:'publisher'">
    <ion-label>{{heroe.superhero}}</ion-label>
    <ion-label>{{heroe.publisher}}</ion-label>
  </ion-item>
</ion-list>

<!-- Skeleton -->
<ion-list *ngIf="(superHeroes | async) === null">
  <ion-list-header>
    <ion-label>
      <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
    </ion-label>
  </ion-list-header>
  <ion-item *ngFor="let item of [1,1,1,1]">
    <ion-avatar slot="start">
      <ion-skeleton-text animated></ion-skeleton-text>
    </ion-avatar>
    <ion-label>
      <h3>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </h3>
      <p>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </p>
      <p>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </p>
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-thumbnail slot="start">
      <ion-skeleton-text animated></ion-skeleton-text>
    </ion-thumbnail>
    <ion-label>
      <h3>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </h3>
      <p>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </p>
      <p>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </p>
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-skeleton-text animated style="width: 27px; height: 27px" slot="start"></ion-skeleton-text>
    <ion-label>
      <h3>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </h3>
      <p>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </p>
      <p>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </p>
    </ion-label>
  </ion-item>
</ion-list>

</ion-content>
